server {
    listen 80;
    listen 443 ssl;
    ssl_certificate "C:/laragon/etc/ssl/laragon.crt";
    ssl_certificate_key "C:/laragon/etc/ssl/laragon.key";
    ssl_session_timeout 5m;
    ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
    ssl_ciphers ALL:!ADH:!EXPORT56:RC4+RSA:+HIGH:+MEDIUM:+LOW:+SSLv3:+EXP;
    ssl_prefer_server_ciphers on;
    server_name b2b.quotesnap.local;

    # Serve React app từ thư mục build
    location /frontend/ {
        alias C:/laragon/www/shopify-custom-apps/frontend/dist/;
        try_files $uri $uri/ /frontend/index.html;
        index index.html;

        # Cache static assets (JS, CSS, images)
        location ~* \.(js|css|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf|eot)$ {
            expires 1y;
            add_header Cache-Control "public, immutable";
            access_log off;
        }

    }

    # Backend API
    location / {
        proxy_pass http://127.0.0.1:8000;
    }
}